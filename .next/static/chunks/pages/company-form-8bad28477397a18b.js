(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{7629:function(e,a,n){"use strict";n.r(a),n.d(a,{MARKET_CHOICES:function(){return y},default:function(){return j}});var s=n(8307),t=n(29),o=n(4687),l=n.n(o),r=n(6312),i=n(9332),c=n(7294),d=n(7536),u=n(7221),m=n(1604),b=m.z.object({year_foundation:m.z.number().min(4,"Los datos de la empresa son obligatorios."),market:m.z.array(m.z.string()).optional(),peru_was_founded:m.z.boolean(),country_was_founded:m.z.string().optional(),people_joined:m.z.number().optional(),need_hire_staff:m.z.number().optional(),payment_vouchers:m.z.array(m.z.string()).optional(),main_challenges:m.z.array(m.z.string()).optional(),political:m.z.coerce.number().optional(),social:m.z.coerce.number().optional(),economic:m.z.coerce.number().optional(),technological:m.z.coerce.number().optional(),environmental:m.z.coerce.number().optional()}),p=n(5893);function x(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function f(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?x(Object(n),!0).forEach(function(a){(0,s.Z)(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var h=[{field:"political",label:"Pol\xedtico"},{field:"social",label:"Social"},{field:"economic",label:"Econ\xf3mico"},{field:"technological",label:"Tecnol\xf3gico"},{field:"environmental",label:"Ambiental"}],g=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"No Aplica"}],y=[{value:"Tecnolog\xeda y software",label:"Tecnolog\xeda y software"},{value:"Alimentos y bebidas",label:"Alimentos y bebidas"},{value:"Salud y bienestar",label:"Salud y bienestar"},{value:"Mascotas y otros animales",label:"Mascotas y otros animales"},{value:"Educaci\xf3n, consultor\xedas o asesor\xedas",label:"Educaci\xf3n, consultor\xedas o asesor\xedas"},{value:"Gesti\xf3n, marketing y dise\xf1o",label:"Gesti\xf3n, marketing y dise\xf1o"},{value:"Arte, dise\xf1o y artesan\xeda",label:"Arte, dise\xf1o y artesan\xeda"},{value:"Entretenimiento y ocio",label:"Entretenimiento y ocio"},{value:"Moda y estilo de vida",label:"Moda y estilo de vida"},{value:"Finanzas y seguros",label:"Finanzas y seguros"},{value:"Sostenibilidad y medio ambiente",label:"Sostenibilidad y medio ambiente"},{value:"Transporte, log\xedstica y exportaci\xf3n",label:"Transporte, log\xedstica y exportaci\xf3n"},{value:"Vivienda, hogar y familia",label:"Vivienda, hogar y familia"},{value:"Deporte y estilo de vida",label:"Deporte y estilo de vida"},{value:"Turismo y cultura",label:"Turismo y cultura"}];function j(){var e,a=(0,c.useState)(!1),n=a[0],s=a[1],o=(0,c.useState)(null),m=o[0],x=o[1],j=(0,c.useState)(!1),v=j[0],N=j[1],_=(0,i.useRouter)(),k=(0,d.cI)({resolver:(0,r.F)(b)}),w=k.register,z=k.handleSubmit,E=k.setValue,S=k.watch,O=k.formState.errors,C=S("peru_was_founded"),P=S("main_challenges")||[],A=(e=(0,t.Z)(l().mark(function e(a){var n,t,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),x(null),n=localStorage.getItem("accountId"),t=f(f({},a),{},{account_id:n?parseInt(n,10):null}),e.next=7,fetch("http://3.133.157.177:8002/api/v1/company/company_information/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 7:if((o=e.sent).ok){e.next=13;break}return e.next=11,o.json();case 11:throw Error(e.sent.detail||"Error al guardar la informaci\xf3n");case 13:N(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),x("Error: ".concat(e.t0.message));case 19:return e.prev=19,s(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])})),function(a){return e.apply(this,arguments)}),T=(S("market")||[]).map(function(e){return{value:e,label:e}});return(0,p.jsxs)("div",{className:"mx-auto mt-10 max-w-xl rounded bg-zinc-900 p-6 text-gray-100 shadow-md",children:[(0,p.jsx)("h1",{className:"mb-4 text-2xl font-bold",children:"Informaci\xf3n de la Empresa"}),m&&(0,p.jsx)("p",{className:"mb-4 text-sm ".concat(m.startsWith("Error")?"text-red-500":"text-green-600"),children:m}),(0,p.jsxs)("form",{onSubmit:z(A),className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:"A\xf1o de Fundaci\xf3n"}),(0,p.jsx)("input",f({type:"number",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},w("year_foundation",{valueAsNumber:!0}))),O.year_foundation&&(0,p.jsx)("p",{className:"mt-1 text-xs text-red-500",children:O.year_foundation.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:"Mi mercado es:"}),(0,p.jsx)("label",{className:"mb-1 block text-xs font-light text-gray-500",children:"Puedes escoger m\xe1s de uno."}),(0,p.jsx)(u.ZP,{options:y,isMulti:!0,value:T,onChange:function(e){E("market",e?e.map(function(e){return e.value}):[],{shouldValidate:!0})},styles:{control:function(e){return f(f({},e),{},{backgroundColor:"#1F2937",borderColor:"#4B5563",color:"#fff",minHeight:"2.5rem"})},menu:function(e){return f(f({},e),{},{backgroundColor:"#1F2937"})},option:function(e){return f(f({},e),{},{backgroundColor:"#374151",color:"#fff",cursor:"pointer"})},multiValue:function(e){return f(f({},e),{},{backgroundColor:"#4B5563"})},multiValueLabel:function(e){return f(f({},e),{},{color:"#fff"})},multiValueRemove:function(e){return f(f({},e),{},{color:"#fff",":hover":{backgroundColor:"#374151",color:"#fff"}})}}}),O.market&&(0,p.jsx)("p",{className:"mt-1 text-xs text-red-400",children:O.market.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:"\xbfSe fund\xf3 en Per\xfa?"}),(0,p.jsx)("label",{className:"mb-1 block text-xs font-light text-gray-500",children:"Este es el pa\xeds donde tienes (o podr\xedas tener) responsabilidades tributarias como impuestos."}),(0,p.jsx)("input",f(f({type:"checkbox"},w("peru_was_founded")),{},{className:"mr-2"})),(0,p.jsx)("span",{className:"text-sm",children:"S\xed"})]}),!C&&(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:"Si tu empresa/emprendimiento no es peruano, escribe el nombre del pa\xeds que corresponda"}),(0,p.jsx)("input",f({type:"text",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},w("country_was_founded")))]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:"Qu\xe9 n\xfamero de personas se asociaron para su creaci\xf3n"}),(0,p.jsx)("input",f({type:"number",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},w("people_joined",{valueAsNumber:!0})))]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"\xbfActualmente necesito contratar personal adicional para que mi empresa/emprendimiento pueda funcionar?"}),(0,p.jsxs)("select",f(f({className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},w("need_hire_staff",{valueAsNumber:!0})),{},{children:[(0,p.jsx)("option",{value:"",children:"Seleccionar"}),(0,p.jsx)("option",{value:1,children:"S\xed, es necesario"}),(0,p.jsx)("option",{value:2,children:"No, puedo manejarlo internamente"}),(0,p.jsx)("option",{value:3,children:"No, pero lo har\xe9"})]})),O.need_hire_staff&&(0,p.jsx)("p",{className:"text-sm text-red-500",children:O.need_hire_staff.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"mb-2 text-sm font-semibold",children:"Emito comprobantes de pago"}),(0,p.jsx)("label",{className:"mb-1 block text-xs font-light text-gray-500",children:"Escoge todas las que apliquen."}),(0,p.jsx)("div",{className:"space-y-2",children:["Facturas","Boletas de venta","Tickets","No s\xe9 cu\xe1l emitir","No necesito","Otros"].map(function(e){return(0,p.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,p.jsx)("input",f(f({type:"checkbox",value:e},w("payment_vouchers")),{},{className:"size-4 rounded border-gray-400 bg-zinc-800 text-indigo-600 focus:ring-indigo-500"})),(0,p.jsx)("span",{className:"text-sm",children:e})]},e)})}),O.payment_vouchers&&(0,p.jsx)("p",{className:"mt-1 text-xs text-red-500",children:O.payment_vouchers.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"mb-2 text-sm font-semibold",children:"Cu\xe1les son los principales retos que enfrenta mi negocio"}),(0,p.jsx)("label",{className:"mb-1 block text-xs font-light text-gray-500",children:"Escoge los tres principales."}),(0,p.jsx)("div",{className:"space-y-2",children:["Acceso a financiamiento","Normas fiscales y legales complejas","Saturaci\xf3n de mercado (mucha competencia)","Dificultad para adaptarse a nuevos entornos e integrar herramientas digitales","Falta de capital humano capacitado","Falta de estructura y organizaci\xf3n interna","Delincuencia"].map(function(e){var a=!P.includes(e)&&P.length>=3;return(0,p.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,p.jsx)("input",f(f({type:"checkbox",value:e},w("main_challenges")),{},{disabled:a,className:"size-4 rounded border-gray-400 bg-zinc-800 text-indigo-600 focus:ring-indigo-500\r disabled:cursor-not-allowed disabled:opacity-50"})),(0,p.jsx)("span",{className:"text-sm",children:e})]},e)})}),O.main_challenges&&(0,p.jsx)("p",{className:"mt-1 text-xs text-red-500",children:O.main_challenges.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:"\xbfConozco sobre c\xf3mo los siguientes contextos afectan a mi negocio?"}),(0,p.jsxs)("label",{className:"mb-1 block text-xs font-light text-gray-500",children:["Selecciona ",(0,p.jsx)("strong",{children:"1"})," si consideras que no tienes suficiente informaci\xf3n, y ",(0,p.jsx)("strong",{children:"5"})," si est\xe1s bien informado. \xb4No Aplica\xb4 si consideras que ese contexto no te afecta."]}),(0,p.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"py-2 text-left"}),g.map(function(e){return(0,p.jsx)("th",{className:"p-2 font-semibold",children:e.label},e.value)})]})}),(0,p.jsx)("tbody",{children:h.map(function(e){return(0,p.jsxs)("tr",{className:"border-t border-zinc-700",children:[(0,p.jsx)("td",{className:"p-2 font-medium",children:e.label}),g.map(function(a){return(0,p.jsx)("td",{className:"text-center",children:(0,p.jsx)("input",f(f({type:"radio",value:a.value},w(e.field)),{},{className:"size-4 text-indigo-600 focus:ring-indigo-500"}))},a.value)})]},e.field)})})]}),O.political&&(0,p.jsx)("p",{className:"mt-1 text-xs text-red-500",children:O.political.message})]}),(0,p.jsx)("button",{type:"submit",disabled:n,className:"flex items-center justify-center rounded bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50",children:n?"Enviando...":"Continuar"})]}),v&&(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,p.jsxs)("div",{className:"w-full max-w-sm rounded bg-white p-6 text-gray-800 shadow-lg",children:[(0,p.jsx)("h3",{className:"mb-2 text-xl font-bold",children:"\xa1Datos Guardados!"}),(0,p.jsx)("p",{className:"mb-4 text-sm",children:"La informaci\xf3n de la empresa se guard\xf3 correctamente."}),(0,p.jsx)("button",{onClick:function(){N(!1),_.push("/company-brand")},className:"rounded bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",children:"Continuar"})]})})]})}},9646:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/company-form",function(){return n(7629)}])}},function(e){e.O(0,[192,332,221,888,774,179],function(){return e(e.s=9646)}),_N_E=e.O()}]);