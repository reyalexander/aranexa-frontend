(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[933],{1822:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var s=t(8307),o=t(29),n=t(4687),i=t.n(n),c=t(6312),a=t(9332),l=t(7294),d=t(7536),u=t(1604),p=u.z.object({product_name:u.z.number().optional(),product_description:u.z.string().optional(),created_product_from:u.z.number().optional(),product_invest:u.z.array(u.z.string()).optional(),keep_product_track:u.z.array(u.z.string()).optional(),price_appropiate:u.z.number().optional()}),m=t(5893);function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function h(){var e,r=(0,l.useState)(!1),t=r[0],s=r[1],n=(0,l.useState)(null),u=n[0],x=n[1],h=(0,l.useState)(!1),f=h[0],g=h[1],j=(0,a.useRouter)(),v=(0,d.cI)({resolver:(0,c.F)(p)}),N=v.register,_=v.handleSubmit,y=v.formState.errors,w=(e=(0,o.Z)(i().mark(function e(r){var t,o,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),x(null),t=localStorage.getItem("accountId"),o=b(b({},r),{},{account_id:t?parseInt(t,10):null}),e.next=7,fetch("http://3.133.157.177:8002/api/v1/product/products/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 7:if((n=e.sent).ok){e.next=13;break}return e.next=11,n.json();case 11:throw Error(e.sent.detail||"Error al guardar la informaci\xf3n");case 13:g(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),x("Error: ".concat(e.t0.message));case 19:return e.prev=19,s(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,16,19,22]])})),function(r){return e.apply(this,arguments)});return(0,m.jsxs)("div",{className:"mx-auto mt-10 max-w-xl rounded bg-zinc-900 p-6 text-gray-100 shadow-md",children:[(0,m.jsx)("h1",{className:"mb-4 text-2xl font-bold",children:"Datos de mi producto/servicio"}),u&&(0,m.jsx)("p",{className:"mb-4 text-sm ".concat(u.startsWith("Error")?"text-red-500":"text-green-600"),children:u}),(0,m.jsxs)("form",{onSubmit:_(w),className:"space-y-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"Ofrezco:"}),(0,m.jsxs)("select",b(b({className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},N("product_name",{valueAsNumber:!0})),{},{children:[(0,m.jsx)("option",{value:"",children:"Seleccionar"}),(0,m.jsx)("option",{value:1,children:"Producto"}),(0,m.jsx)("option",{value:2,children:"Servicio"}),(0,m.jsx)("option",{value:3,children:"Producto y servicio"})]})),y.product_name&&(0,m.jsx)("p",{className:"text-sm text-red-500",children:y.product_name.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"mb-1 block text-sm font-semibold",children:"El producto/servicio que ofrezco es el siguiente:"}),(0,m.jsx)("input",b({type:"text",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},N("product_description")))]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"Mi producto/servicio lo cre\xe9 a partir de:"}),(0,m.jsxs)("select",b(b({className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},N("created_product_from",{valueAsNumber:!0})),{},{children:[(0,m.jsx)("option",{value:"",children:"Seleccionar"}),(0,m.jsx)("option",{value:1,children:"Alta demanda"}),(0,m.jsx)("option",{value:2,children:"Ofrecer nuevas alternativas"}),(0,m.jsx)("option",{value:3,children:"Rubro con poca competencia"}),(0,m.jsx)("option",{value:4,children:"Legado familiar"}),(0,m.jsx)("option",{value:5,children:"A\xfan no lo s\xe9"})]})),y.created_product_from&&(0,m.jsx)("p",{className:"text-sm text-red-500",children:y.created_product_from.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:"mb-2 text-sm font-semibold",children:"Para producir mi producto, invierto m\xe1s en:"}),(0,m.jsx)("label",{className:"mb-1 block text-xs font-light text-gray-500",children:"Selecciona todas las que correspondan."}),(0,m.jsx)("div",{className:"space-y-2",children:["Materia prima (insumos)","Mano de obra","Software / tecnolog\xeda","Maquinaria o herramientas","Espacio f\xedsico (Ej. Oficinas)","Espacio virtual (Ej. Ecommerce)","Publicidad","Distribuci\xf3n o delivery"].map(function(e){return(0,m.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,m.jsx)("input",b(b({type:"checkbox",value:e},N("product_invest")),{},{className:"size-4 rounded border-gray-400 bg-zinc-800 text-indigo-600 focus:ring-indigo-500"})),(0,m.jsx)("span",{className:"text-sm",children:e})]},e)})}),y.product_invest&&(0,m.jsx)("p",{className:"mt-1 text-xs text-red-500",children:y.product_invest.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:"mb-2 text-sm font-semibold",children:"Llevo un registro de cuentas de mi producto/servicio:"}),(0,m.jsx)("div",{className:"space-y-2",children:["Apuntes personales de gastos o ingresos","Libros contables","No llevo registro de cuentas"].map(function(e){return(0,m.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,m.jsx)("input",b(b({type:"checkbox",value:e},N("keep_product_track")),{},{className:"size-4 rounded border-gray-400 bg-zinc-800 text-indigo-600 focus:ring-indigo-500"})),(0,m.jsx)("span",{className:"text-sm",children:e})]},e)})}),y.keep_product_track&&(0,m.jsx)("p",{className:"mt-1 text-xs text-red-500",children:y.keep_product_track.message})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"Considero que el precio de mi producto/servicio es el apropiado"}),(0,m.jsxs)("select",b(b({className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},N("price_appropiate",{valueAsNumber:!0})),{},{children:[(0,m.jsx)("option",{value:"",children:"Seleccionar"}),(0,m.jsx)("option",{value:1,children:"S\xed, es el precio correcto"}),(0,m.jsx)("option",{value:2,children:"No, tengo que actualizarlo"}),(0,m.jsx)("option",{value:3,children:"No lo s\xe9, no tengo referentes"})]})),y.price_appropiate&&(0,m.jsx)("p",{className:"text-sm text-red-500",children:y.price_appropiate.message})]}),(0,m.jsx)("button",{type:"submit",disabled:t,className:"flex items-center justify-center rounded bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50",children:t?"Enviando...":"Continuar"})]}),f&&(0,m.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,m.jsxs)("div",{className:"w-full max-w-sm rounded bg-white p-6 text-gray-800 shadow-lg",children:[(0,m.jsx)("h3",{className:"mb-2 text-xl font-bold",children:"\xa1Datos Guardados!"}),(0,m.jsx)("p",{className:"mb-4 text-sm",children:"La informaci\xf3n del producto se guard\xf3 correctamente."}),(0,m.jsx)("button",{onClick:function(){g(!1),j.push("/client-form")},className:"rounded bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",children:"Continuar"})]})})]})}},270:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product-form",function(){return t(1822)}])}},function(e){e.O(0,[192,332,888,774,179],function(){return e(e.s=270)}),_N_E=e.O()}]);