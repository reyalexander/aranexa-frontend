(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{5089:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return f}});var s=r(8307),t=r(29),i=r(4687),a=r.n(i),o=r(6312),c=r(1163),l=r.n(c),d=r(7294),u=r(7536),m=r(1604),x=m.z.object({full_name:m.z.string().min(1,"El nombre completo es obligatorio"),email:m.z.string().email("Debe ser un correo v\xe1lido"),year_birthday:m.z.number().optional(),nationality:m.z.string().optional(),gender:m.z.number().optional(),level_of_study:m.z.number().optional(),academic_or_work_area:m.z.array(m.z.string()).optional(),current_position:m.z.string().optional()}),p=r(5893);function b(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach(function(n){(0,s.Z)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f(){var e,n=(0,d.useState)(!1),r=n[0],s=n[1],i=(0,d.useState)(null),c=i[0],m=i[1],b=(0,d.useState)(!1),f=b[0],g=b[1],j=(0,u.cI)({resolver:(0,o.F)(x),defaultValues:{full_name:"",email:"",year_birthday:void 0,nationality:"",gender:void 0,level_of_study:void 0,academic_or_work_area:[],current_position:""}}),v=j.register,y=j.handleSubmit,_=j.formState.errors,N=(e=(0,t.Z)(a().mark(function e(n){var r,t;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),m(null),e.next=5,fetch("http://3.133.157.177:8002/api/v1/user/account/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:if((r=e.sent).ok){e.next=11;break}return e.next=9,r.json();case 9:throw Error(e.sent.detail||"Error al crear el usuario");case 11:return g(!0),e.next=14,r.json();case 14:t=e.sent,localStorage.setItem("accountId",String(t.id)),m("\xa1Usuario creado correctamente con ID: ".concat(t.id,"!")),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),m("Error: ".concat(e.t0.message));case 22:return e.prev=22,s(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[0,19,22,25]])})),function(n){return e.apply(this,arguments)});return(0,p.jsxs)("div",{className:"mx-auto mt-10 max-w-xl rounded bg-zinc-900 p-6 text-gray-100 shadow-md",children:[(0,p.jsx)("h1",{className:"mb-4 text-2xl font-bold",children:"Registro de Usuario (Paso 1)"}),c&&(0,p.jsx)("p",{className:"mb-4 text-sm ".concat(c.startsWith("Error")?"text-red-500":"text-green-600"),children:c}),(0,p.jsxs)("form",{onSubmit:y(N),className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Nombre Completo"}),(0,p.jsx)("input",h({type:"text",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},v("full_name"))),_.full_name&&(0,p.jsx)("p",{className:"text-sm text-red-500",children:_.full_name.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Email"}),(0,p.jsx)("input",h({type:"email",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},v("email"))),_.email&&(0,p.jsx)("p",{className:"text-sm text-red-500",children:_.email.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"A\xf1o de Nacimiento"}),(0,p.jsx)("input",h({type:"number",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},v("year_birthday",{valueAsNumber:!0}))),_.year_birthday&&(0,p.jsx)("p",{className:"text-sm text-red-500",children:_.year_birthday.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Nacionalidad"}),(0,p.jsx)("input",h({type:"text",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},v("nationality"))),_.nationality&&(0,p.jsx)("p",{className:"text-sm text-red-500",children:_.nationality.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"G\xe9nero"}),(0,p.jsxs)("select",h(h({className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},v("gender",{valueAsNumber:!0})),{},{children:[(0,p.jsx)("option",{value:"",children:"Seleccionar"}),(0,p.jsx)("option",{value:1,children:"Femenino"}),(0,p.jsx)("option",{value:2,children:"Masculino"}),(0,p.jsx)("option",{value:3,children:"No Binario"}),(0,p.jsx)("option",{value:4,children:"Otro"}),(0,p.jsx)("option",{value:5,children:"Prefiero no decirlo"})]})),_.gender&&(0,p.jsx)("p",{className:"text-sm text-red-500",children:_.gender.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Nivel de Estudio"}),(0,p.jsxs)("select",h(h({className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},v("level_of_study",{valueAsNumber:!0})),{},{children:[(0,p.jsx)("option",{value:"",children:"Seleccionar"}),(0,p.jsx)("option",{value:1,children:"B\xe1sica primaria"}),(0,p.jsx)("option",{value:2,children:"B\xe1sica secundaria"}),(0,p.jsx)("option",{value:3,children:"T\xe9cnica profesional"}),(0,p.jsx)("option",{value:4,children:"Universitaria"}),(0,p.jsx)("option",{value:5,children:"Licenciatura"}),(0,p.jsx)("option",{value:6,children:"Posgrado"})]})),_.level_of_study&&(0,p.jsx)("p",{className:"text-sm text-red-500",children:_.level_of_study.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"mb-2 text-sm font-semibold",children:"Selecciona tus \xe1reas (puedes marcar varias):"}),(0,p.jsx)("div",{className:"space-y-2",children:["Administraci\xf3n, negocios y ventas","Artes y humanidades","Ingenier\xeda, manufactura y construcci\xf3n","Ciencias exactas y naturales","Ciencias sociales y derecho","Ciencias de la salud","Otro"].map(function(e){return(0,p.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,p.jsx)("input",h(h({type:"checkbox",value:e},v("academic_or_work_area")),{},{className:"size-4 rounded border-gray-400 bg-zinc-800 text-indigo-600 focus:ring-indigo-500"})),(0,p.jsx)("span",{className:"text-sm",children:e})]},e)})}),_.academic_or_work_area&&(0,p.jsx)("p",{className:"mt-1 text-xs text-red-500",children:_.academic_or_work_area.message})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Puesto actual"}),(0,p.jsx)("input",h({type:"text",className:"w-full rounded border-none bg-zinc-800 p-2 focus:ring-2 focus:ring-indigo-500"},v("current_position"))),_.current_position&&(0,p.jsx)("p",{className:"text-sm text-red-500",children:_.current_position.message})]}),(0,p.jsx)("button",{type:"submit",disabled:r,className:"rounded bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-700",children:r?"Enviando...":"Continuar"})]}),f&&(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,p.jsxs)("div",{className:"w-full max-w-sm rounded bg-white p-6 text-gray-800 shadow-lg",children:[(0,p.jsx)("h3",{className:"mb-2 text-xl font-bold",children:"\xa1Usuario Creado!"}),(0,p.jsx)("p",{className:"mb-4 text-sm",children:"Tu informaci\xf3n se ha registrado exitosamente."}),(0,p.jsx)("button",{onClick:function(){g(!1),l().push("/company-form")},className:"rounded bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",children:"Siguiente Formulario"})]})})]})}},1293:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wizard",function(){return r(5089)}])},1163:function(e,n,r){e.exports=r(4285)}},function(e){e.O(0,[192,888,774,179],function(){return e(e.s=1293)}),_N_E=e.O()}]);